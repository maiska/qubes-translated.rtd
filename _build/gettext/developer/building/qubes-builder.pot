# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2022, test
# This file is distributed under the same license as the qubes-docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: qubes-docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-05-23 17:29+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../_doc/developer/building/qubes-builder.rst:1
#: a9594a09629a4036a71dc7d96e5da9e6
msgid "**Note: See**\\ :doc:`ISO building instructions </developer/building/qubes-iso-building>`\\ **for a streamlined overview on how to use the build system.**"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:5
#: 94ab5f53f98a4f6eb3cb1cb99d721ad9
msgid "We have a fully automated build system for Qubes, that downloads, builds and packages all the Qubes components, and finally should spit out a ready-to-use installation ISO, all in a `secure <https://www.qubes-os.org/news/2016/05/30/build-security/>`__ way."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:10
#: 7eb0d9967e3f4dc1bda61b37b803a976
msgid "In order to use it, you should use an rpm-based distro, like Fedora :), and should ensure the following packages are installed:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:13
#: 47079147d6074b7a87a7157450e71179
msgid "sudo"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:14
#: 32447c2b4fdb41e1afcd128a5130e672
msgid "gnupg"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:15
#: 89c18c4a806b49e0a3f39e0c3dbda469
msgid "git"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:16
#: 8c1f1caeb08343c6bd91d8d1b394a6b0
msgid "createrepo"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:17
#: 3b99ca00384c49088242481c83fe1a11
msgid "rpm-build"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:18
#: bf042bf514df4c2abd5fec7ee158d907
msgid "make"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:19
#: 17827f8f63494847ac3bef2bc5109f21
msgid "wget"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:20
#: 71c8beef085c46cd99916455dd7aebde
msgid "rpmdevtools"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:21
#: e8cc2d8dbaa64255ad0dbb75993e0214
msgid "python3-sh"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:22
#: 9441959e3ec84e6fb6021d9f816231ce
msgid "dialog"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:23
#: e3345ecbb651495db54395292b834073
msgid "rpm-sign"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:24
#: 0687d763afaf4ae6906bf964256b8a62
msgid "dpkg-dev"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:25
#: b27d59a2709648adbfb06972194f0d15
msgid "debootstrap"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:26
#: 52741efa71eb4bc2a8d8ac9a89215ef1
msgid "python3-pyyaml"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:27
#: e5e82681b19b4d09b3ec5d196df2d56b
msgid "devscripts"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:28
#: ea743649aa0b47f1bb8bfe7b77cee87e
msgid "perl-Digest-MD5"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:29
#: 7c4d38ca874143aaaf78146f6ee95307
msgid "perl-Digest-SHA"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:31
#: ac24bfee4703431a8b16f29716f68243
msgid "Usually you can install those packages by just issuing:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:37
#: 3005384cc6194b4bafc1b57d724938fd
msgid "The build system creates build environments in chroots and so no other packages are needed on the host. All files created by the build system are contained within the qubes-builder directory. The full build requires some 25GB of free space, so keep that in mind when deciding where to place this directory."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:43
#: dcf42fec216d4f9db4a2731af225e0f7
msgid "The build system is configured via builder.conf file. You can use the setup.sh script to create and modify this file. Alternatively, you can copy the provided default builder.conf, and modify it as needed, e.g.:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:53
#: eec8cc8661c5414aad362296c3c1cb44
msgid "One additional useful requirement is that ‘sudo root’ must work without any prompt, which is default on most distros (e.g. ‘sudo bash’ brings you the root shell without asking for any password). This is important as the builder needs to switch to root and then back to user several times during the build process."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:59
#: 11fbba7a6ab2416e89f9f8c17f9d34fe
msgid "Additionally, if building with signing enabled (NO_SIGN is not set), you must adjust ``\\~/.rpmmacros`` file so that it points to the GPG key used for package signing, e.g.:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:69
#: d4db2f9520574a239f8c517d4d8c8bbf
msgid "It is also recommended that you use an empty passphrase for the private key used for signing. Contrary to a popular belief, this doesn’t affect your key or sources security – if somebody compromised your system, then the game is over anyway, whether you have used an additional passphrase for the key or not."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:75
#: a426ea758e8a46b088f21cc7f7f85bb4
msgid "So, to build Qubes you would do:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:111
#: c6303f979d9b4a88bb8d53dbe97fa909
msgid "And this should produce a shiny new ISO."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:113
#: 7cdcf846fd5340019a342949e7c11632
msgid "You can also build selected component separately. Eg. to compile only gui virtualization agent/daemon:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:120
#: b076adc79ee44dd68a4a3c9a98396a94
msgid "You can get a full list from make help."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:123
#: 66d76737f0b94e0aaafafc46741b7ed1
msgid "Making customized build"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:126
#: ccd922757e75448da7bc74ee16d3901f
msgid "Manual source modification"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:128
#: e876fa8beced4720961840c959e40e35
msgid "You can also modify sources somehow if you wish. Here are some basic steps:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:131
#: ac2b6370baee4d25ac89b899b1668548
msgid "Download qubes-builder as described above (if you want to use marmarek’s branches, you should also download qubes-builder from his repo - replace ‘QubesOS’ with ‘marmarek’ in above git clone command)"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:134
#: f6f326a8a91342cc8fcf2249f798648c
msgid "Edit builder.conf (still the same as above), some useful additions:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:136
#: 05dd634b19e446358df0c3bc49490c68
msgid "You can also set GIT_PREFIX=“marmarek/qubes-” to use marmarek’s repo instead of “mainstream” - it contains newer (but less tested) versions"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:140
#: af6c3b02f5524fc493e3ff17beafcca1
msgid "Download unmodified sources"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:146
#: c8cb2142a7c0496792c83d07d7cda61e
msgid "**Make your modifications here**"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:148
#: ef9d8c129db24abf8a8292b6933a9759
msgid "Build the Qubes ``make qubes`` actually is just meta target which builds all required components in correct order. The list of components is configured in builder.conf. You can also check the current value at the end of ``make      help``, or using ``make build-info``."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:154
#: aa559a6622b44064a4e1c4e14a1681d5
msgid "``get-sources`` is already done, so continue with the next one. You can skip ``sign-all`` if you’ve disabled signing"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:161
#: 64b8bd254bde42aa8b5d348d4c4333cc
msgid "build iso installation image"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:168
#: 49688aeb8a044172b032c06b75ecc842
msgid "Use pre-built Qubes packages"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:170
#: cab70e9387924298bb40b703591a2e21
msgid "For building just a few selected packages, it’s very useful to download pre-built qubes-specific dependencies from ``{yum,deb}.qubes-os.org``. This is especially true for ``gcc``, which takes several hours to build."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:174
#: e509f2144e404841afbc7d47d19e91f8
msgid "Before creating the ``chroot``, add this to your ``builder.conf``:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:180
#: 2a3fa8ee22ae444299ac5bef11ab51a5
msgid "It will add the ‘current’ Qubes repository to your ``chroot`` environment. Next, specify which components (``gcc``, for example) you want to download instead of compiling:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:188
#: 422ac50dde6245a8a81c5cb123a5348e
msgid "Alternatively, edit the actual COMPONENTS list which is defined in the included version-dependent config from example-configs (see series of include directives near the beginning of ``builder.conf``). This way, you can build only the packages in which you are interested."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:193
#: b88de7a58c2c4ff29c74fe8a4f8e8f9e
msgid "If you also want to use the ‘current-testing’ repository, add this to your configuration:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:200
#: f081d17f046645c0b3eaa6a21ba076c6
msgid "In the case of an existing ``chroot``, for mock-enabled builds, this works immediately because ``chroot`` is constructed each time separately. For legacy builds, it will not add the necessary configuration into the build environment unless a specific builder change or configuration would force rebuilding chroot."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:206
#: 90e587f7a3ac4a85b4ca15f57b3346fa
msgid "Also, once enabled, disabling this setting will not disable repositories in relevant chroots. And even if it did, there could be some leftover packages installed from those repos (which may or may not be desirable)."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:210
#: f0c984ecce374c2cad87eb07852b6e8d
msgid "**Note** If you are building Ubuntu templates, you cannot use this option. This is because Qubes does not provide official packages for Ubuntu templates."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:215
#: 84128c9b8b934d9aaa3dff747a5fe015
msgid "Code verification keys management"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:217
#: 70f6eb1725b3480ebc93a0dc3277fcab
msgid ":doc:`QubesBuilder </developer/building/qubes-builder>` by default verifies signed tags on every downloaded code. Public keys used for that are stored in ``keyrings/git``. By default Qubes developers’ keys are imported automatically, but if you need some additional keys (for example your own), you can add them using:"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:229
#: 2aacbe0a06fa4b7e8d57f69009ce3866
msgid "All Qubes developers’ keys are signed by the Qubes Master Signing Key (which is set as ultimately trusted key), so are trusted automatically."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:232
#: 76cf6170d5374901aafb36e9e03453b7
msgid "If you are the owner of Master key and want to revoke such signature, use the ``revsig`` gpg key edit command and update the key in qubes-developers-keys.asc - now the key will be no longer trusted (unless manually set as such)."
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:238
#: 0a577d60f7c141319881c1791c1bbc16
msgid "Further information"
msgstr ""

#: ../../../_doc/developer/building/qubes-builder.rst:240
#: 736b7047e6b2420db96b915e5d8024e6
msgid "For advanced :doc:`QubesBuilder </developer/building/qubes-builder>` use, and preparing sources, take a look at :doc:`QubesBuilderDetails </developer/building/qubes-builder-details>` page, or `QubesBuilder’s doc directory <https://github.com/marmarek/qubes-builder/tree/master/doc>`__."
msgstr ""
